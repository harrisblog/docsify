## 第一章 概述

1-03 试从多个方面比较电路交换、报文交换和分组交换的主要优缺点。

答：

（1）电路交换：端对端通信质量因约定了通信资源获得可靠保障，对连续传送大量数据效率高。

（2）报文交换：无须预约传输带宽，动态逐段利用传输带宽对突发式数据通信效率高，通信迅速。

（3）分组交换：具有报文交换之高效、迅速的要点，且各分组小，路由灵活，网络生存性能好。

1-10 试在下列条件下比较电路交换和分组交换。要传送的报文共 x（bit）。从源点到终点共经过 k 段链路，每段链路的传播时延为 d（s），数据率为 b(b/s)。在电路交换时电路的建立时间为 s(s)。在分组交换时分组长度为 p(bit)，且各结点的排队等待时间可忽略不计。问在怎样的条件下，分组交换的时延比电路交换的要小？（提示：画一下草图观察 k 段链路共有几个结点。）

答：电路交换时延：kd+x/b+s，

分组交换时延：kd+(x/p)(p/b)+ (k-1)(p/b)，其中(k-1)(p/b)表示 K 段传输中，有(k-1)次的储存转发延迟

当 s>(k-1)(p/b)时，电路交换的时延比分组交换的时延大，当 x>>p，相反。

1-17 收发两端之间的传输距离为 1000km，信号在媒体上的传播速率为 2×108m/s。试计算以下两种情况的发送时延和传播时延：
（1） 数据长度为 107bit,数据发送速率为 100kb/s。

（2） 数据长度为 103bit,数据发送速率为 1Gb/s。 从上面的计算中可以得到什么样的结论？

解：

```
（1）发送时延：ts=10^7/10^5=100s，传播时延tp=10^6/(2×10^8)=0.005s
（2）发送时延ts =103/109=1µs，传播时延：tp=10^6/(2×10^8)=0.005s
```

结论：若数据长度大而发送速率低，则在总的时延中，发送时延往往大于传播时延。但若数据长度短而发送速率高，则传播时延就可能是总时延中的主要成分。

✅1-19 长度为 100 字节的应用层数据交给传输层传送，需加上 20 字节的 TCP 首部。再交给网络层传送，需加上 20 字节的 IP 首部。最后交给数据链路层的以太网传送，加上首部和尾部工 18 字节。试求数据的传输效率。数据的传输效率是指发送的应用层数据除以所发送的总数据（即应用数据加上各种首部和尾部的额外开销）。若应用层数据长度为 1000 字节，数据的传输效率是多少？

解：（1）100/（100+20+20+18）=63.3% （2）1000/（1000+20+20+18）=94.5%

1-21 协议与服务有何区别？有何关系？

答：网络协议：为进行网络中的数据交换而建立的规则、标准或约定。由以下三个要素组成：
（1）语法：即数据与控制信息的结构或格式。
（2）语义：即需要发出何种控制信息，完成何种动作以及做出何种响应。
（3）同步：即事件实现顺序的详细说明。协议是控制两个对等实体进行通信的规则的集合。在协议的控制下，两个对等实体间的通信使得本层能够向上一层提供服务，而要实现本层协议，还需要使用下面一层提供服务。
协议和服务的概念的区分：

1、协议的实现保证了能够向上一层提供服务。本层的服务用户只能看见服务而无法看见下面的协议。下面的协议对上面的服务用户是透明的。

2、协议是“水平的”，即协议是控制两个对等实体进行通信的规则。但服务是“垂直的”，即服务是由下层通过层间接口向上层提供的。上层使用所提供的服务必须与下层交换一些命令，这些命令在 OSI 中称为服务原语。

1-22 网络协议的三个要素是什么？各有什么含义？
答：网络协议：为进行网络中的数据交换而建立的规则、标准或约定。由以下三个要素组成：

（1）语法：即数据与控制信息的结构或格式。

（2）语义：即需要发出何种控制信息，完成何种动作以及做出何种响应。

（3）同步：即事件实现顺序的详细说明。

<br>

## 第二章 物理层

2-09 用**香农公式**计算一下，假定信道带宽为 3100Hz，最大信道传输速率为 35Kb/ｓ，那么若想使最大信道传输速率增加 60％，问信噪比 S/N 应增大到多少倍？如果在刚才计算出的基础上将信噪比 S/N 再增大到 10 倍，问最大信息速率能否再增加 20％？

答：设最大信道传输速率为 C1，增加 60%后是 C2，即 1.6\*C1，带宽是 W，再增加 10 倍使的最大速率 C3

```
已知香农公式：C = Wlog2(1+S/N)
S/N1 = 2^(C1/W)-1 = 2^(35000/3100)-1
S/N2 = 2^(C2/W)-1 = 2^(1.6*C1/W)-1 = 2^(1.6*35000/3100)-1
SN2/SN1=100 信噪比应增大到大约100倍。

C3=Wlog2(1+SN3)=Wlog2(1+10*SN2)
C3/C2=118.5%
```

如果在此基础上将信噪比 S/N 再增大到 10 倍，最大信息通率只能再增加 18.5%左右

2-16 共有 4 个站进行码分多址通信。4 个站的码片序列为

A：（－1－1－1 ＋ 1 ＋ 1－1 ＋ 1 ＋ 1）

B：（－1－1 ＋ 1－1 ＋ 1 ＋ 1 ＋ 1－1）

C：（－1 ＋ 1－1 ＋ 1 ＋ 1 ＋ 1－1－1）

D：（－1 ＋ 1－1－1－1－1 ＋ 1－1）

现收到这样的码片序列 S：（－1 ＋ 1－3 ＋ 1－1－3 ＋ 1 ＋ 1）。问哪个站发送数据了？发送数据的站发送的是 0 还是 1？

解：S•A=（＋ 1－1 ＋ 3 ＋ 1－1 ＋ 3 ＋ 1 ＋ 1）／8=1， A 发送 1 S•B=（＋ 1－1－3－1－1－3 ＋ 1－1）／8=－1， B 发送 0 S•C=（＋ 1 ＋ 1 ＋ 3 ＋ 1－1－3－1－1）／8=0， C 无发送 S•D=（＋ 1 ＋ 1 ＋ 3－1 ＋ 1 ＋ 3 ＋ 1－1）／8=1， D 发送 1

<br>

## 第三章 数据链路层

3-07 要发送的数据为 1101011011。采用 CRC 的生成多项式是 P（X）=X4+X+1。试求应添加在数据后面的余数。数据在传输过程中最后一个 1 变成了 0，问接收端能否发现？若数据在传输过程中最后两个 1 都变成了 0，问接收端能否发现？采用 CRC 检验后，数据链路层的传输是否就变成了可靠的传输？

答：作二进制除法，1101011011 0000 10011 得余数 1110 ，添加的检验序列是 1110.作二进制除法，两种错误均可发展仅仅采用了 CRC 检验，缺重传机制，数据链路层的传输还不是可靠的传输。

3-08 要发送的数据为 101110。采用 CRCD 生成多项式是 P（X）=X3+1。试求应添加在数据后面的余数。

答：作二进制除法，101110 000 10011 添加在数据后面的余数是 011

3-10 PPP 协议使用同步传输技术传送比特串 0110111111111100。试问经过零比特填充后变成怎样的比特串？若接收端收到的 PPP 帧的数据部分是 0001110111110111110110，问删除发送端加入的零比特后变成怎样的比特串？

答：011011111，11111 00，011011111011111000，0001110111110111110110，000111011111 11111 110

3-33 网桥中的转发表是用自学习算法建立的。如果有的站点总是不发送数据而仅仅接受数据，那么在转发表中是否就没有与这样的站点相对应的项目？如果要向这个站点发送数据帧，那么网桥能够把数据帧正确转发到目的地址吗？

答：没有与这样的站点相对应的项目;网桥能够利用广播把数据帧正确转发到目的地址

<br>

## 第四章 网络层

10.试辨认以下 IP 地址的网络类别。
（1）128.36.199.3（2）21.12.240.17（3）183.194.76.253（4） 192.12.69.248（5）89.3.0.1（6）200.3.6.2

(2)和(5)是 A 类,(1)和(3)是 B 类,(4)和(6)是 C 类.

![](https://npm.elemecdn.com/hassan-assets/posts/Computer_Network/image-20210616130246332.png)

![](https://npm.elemecdn.com/hassan-assets/posts/Computer_Network/image-20210616130333683.png)

26.有如下的 4 个/24 地址块，试进行最大可能性的聚会。

212.56.132.0/24

212.56.133.0/24

212.56.134.0/24

212.56.135.0/24

212=（11010100）2，56=（00111000）2

132=（10000100）2，133=（10000101）2

134=（10000110）2， 135=（10000111）2

所以共同的前缀有 22 位，即 11010100 00111000 100001，聚合的 CIDR 地址块是： 212.56.132.0/22

![](https://npm.elemecdn.com/hassan-assets/posts/Computer_Network/image-20210616130609091.png)
![](https://npm.elemecdn.com/hassan-assets/posts/Computer_Network/image-20210616130700388.png)

4-30 一个大公司有一个总部和三个下属部门。公司分配到的网络前缀是 192.77.33/24.公司的网络布局如图 4-56 示。总部共有五个局域网，其中的 LAN1-LAN4 都连接到路由器 R1 上，R1 再通过 LAN5 与路由器 R5 相连。R5 和远地的三个部门的局域网 LAN6 ～ LAN8 通过广域网相连。每一个局域网旁边标明的数字是局域网上的主机数。试给每一个局域网分配一个合适的网络的前缀。见课后答案 P380

4-31 以下地址中的哪一个和 86.32/12 匹配：请说明理由。
（1）86.33.224．123：（2）86.79.65.216；（3）86.58.119.74; (4) 86.68.206.154。

答：86.32/12，86.00100000。下划线上为 12 位前缀说明第二字节的前 4 位在前缀中。

给出的四个地址的第二字节的前 4 位分别为：0010 ，0100 ，0011 和 0100。因此只有（1）是匹配的。

4-37 某单位分配到一个地址块 136.23.12.64/26。现在需要进一步划分为 4 个一样大的子网。试问：

（1）每一个子网的网络前缀有多长？

（2）每一个子网中有多少个地址？

（3）每一个子网的地址是什么？

（4）每一个子网可分配给主机使用的最小地址和最大地址是什么？

答：（1）每个子网前缀 28 位。

（2）每个子网的地址中有 4 位留给主机用，因此共有 16 个地址。

（3）四个子网的地址块是：

第一个地址块 136.23.12.64/28，可分配给主机使用的

​ 最小地址：136.23.12.01000001 ＝ 136.23.12.65/28

​ 最大地址：136.23.12.01001110 ＝ 136.23.12.78/28

第二个地址块 136.23.12.80/28，可分配给主机使用的

​ 最小地址：136.23.12.01010001 ＝ 136.23.12.81/28

​ 最大地址：136.23.12.01011110 ＝ 136.23.12.94/28

第三个地址块 136.23.12.96/28，可分配给主机使用的

​ 最小地址：136.23.12.01100001 ＝ 136.23.12.97/28

​ 最大地址：136.23.12.01101110 ＝ 136.23.12.110/28

第四个地址块 136.23.12.112/28，可分配给主机使用的

​ 最小地址：136.23.12.01110001 ＝ 136.23.12.113/28

​ 最大地址：136.23.12.01111110 ＝ 136.23.12.126/28

![](https://npm.elemecdn.com/hassan-assets/posts/Computer_Network/image-20210616113231075.png)

![](https://npm.elemecdn.com/hassan-assets/posts/Computer_Network/image-20210616113459111.png)

## 第五章 传输层

5—21 假定使用连续 ARQ 协议中，发送窗口大小事 3，而序列范围[0,15],而传输媒体保证在接收方能够按序收到分组。在某时刻，接收方，下一个期望收到序号是 5.试问：
（1） 在发送方的发送窗口中可能有出现的序号组合有哪几种？
（2） 接收方已经发送出去的、但在网络中（即还未到达发送方）的确认分组可能有哪些？说明这些确认分组是用来确认哪些序号的分组。

5—23 主机 A 向主机 B 连续发送了两个 TCP 报文段，其序号分别为 70 和 100。试问：

（1） 第一个报文段携带了多少个字节的数据？
（2） 主机 B 收到第一个报文段后发回的确认中的确认号应当是多少？
（3） 如果主机 B 收到第二个报文段后发回的确认中的确认号是 180，试问 A 发送的第二个报文段中的数据有多少字节？
（4） 如果 A 发送的第一个报文段丢失了，但第二个报文段到达了 B。B 在第二个报文段到达后向 A
发送确认。试问这个确认号应为多少？
解：（1）第一个报文段的数据序号是 70 到 99，共 30 字节的数据。

（2）确认号应为 100

（3）80 字节

（4）70

5—24 一个 TCP 连接下面使用 256kb/s 的链路，其端到端时延为 128ms。经测试，发现吞吐量只有 120kb/s。试问发送窗口 W 是多少？（提示：可以有两种答案，取决于接收等发出确认的时机）。

解：来回路程的时延等于 256ms(=128ms×2).设窗口值为 X(注意:以字节为单位),假定一次最大发送量等于窗口值,且发射时间等于 256ms,那么,每发送一次都得停下来期待再次得到下一窗口的确认,以得到新的发送许可.这样,发射时间等于停止等待应答的时间结果,测到的平均吞吐率就等于发送速率的一半,即 8X÷(256×1000)=256×0.001X=8192 所以,窗口值为 8192

5—30 设 TCP 使用的最大窗口为 65535 字节，而传输信道不产生差错，带宽也不受限制。若报文段的
平均往返时延为 20ms，问所能得到的最大吞吐量是多少?

答：在发送时延可忽略的情况下，最大数据率=最大窗口\*8/平均往返时间=26.2Mb/s。

5—31 通信信道带宽为 1Gb／s，端到端时延为 10ms。TCP 的发送窗口为 65535 字节。试问:可能达到的最大吞吐量是多少?信道的利用率是多少?

答：L=65536×8+40×8=524600

C=109b/s

L/C=0.0005246s

Td=10×10-3s

0.02104864

Throughput=L/(L/C+2×Td)=524600/0.0205246=25.5Mb/s

Efficiency=(L/C)//(L/C+2×D)=0.0255

最大吞吐量为 25.5Mb/s。信道利用率为 25.5/1000=2.55%

5—38 设 TCP 的 ssthresh 的初始值为 8(单位为报文段)。当拥塞窗口上升到 12 时网络发生了超时，TCP
使用慢开始和拥塞避免。试分别求出第 1 次到第 15 次传输的各拥塞窗口大小。你能说明拥塞控制窗口每一次变化的原因吗？

答：拥塞窗口大小分别为：1，2，4，8，9，10，11，12，1，2，4，6，7，8，9

5—39 TCP 的拥塞窗口 cwnd 大小与传输轮次 n 的关系如下所示：

![](https://npm.elemecdn.com/hassan-assets/posts/Computer_Network/image-20210616124928843.png)

（1）试画出如图 5-25 所示的拥塞窗口与传输轮次的关系曲线。

（2）指明 TCP 工作在慢开始阶段的时间间隔。

（3）指明 TCP 工作在拥塞避免阶段的时间间隔。

（4）在第 16 轮次和第 22 轮次之后发送方是通过收到三个重复的确认还是通过超市检测到丢失了报文段？

（5）在第 1 轮次，第 18 轮次和第 24 轮次发送时，门限 ssthresh 分别被设置为多大？

（6）在第几轮次发送出第 70 个报文段？

（7）假定在第 26 轮次之后收到了三个重复的确认，因而检测出了报文段的丢失，那么拥塞窗口 cwnd 和门限 ssthresh 应设置为多大？

答：（1）拥塞窗口与传输轮次的关系曲线如图所示（课本后答案）

（2） 慢开始时间间隔：【1，6】和【23，26】

（3） 拥塞避免时间间隔：【6，16】和【17，22】

（4） 在第 16 轮次之后发送方通过收到三个重复的确认检测到丢失的报文段。在第 22 轮次之后发送方是通过超时检测到丢失的报文段

（5） 在第 1 轮次发送时，门限 ssthresh 被设置为 32 在第 18 轮次发送时，门限 ssthresh 被设置为发生拥塞时的一半，即 21.在第 24 轮次发送时，门限 ssthresh 是第 18 轮次发送时设置的 21

（6） 第 70 报文段在第 7 轮次发送出

（7） 拥塞窗口 cwnd 和门限 ssthresh 应设置为 8 的一半，即 4

5—41

用 TCP 传送 512 字节的数据。设窗口为 100 字节，而 TCP 报文段每次也是传送 100 字节的数据。

再设发送端和接收端的起始序号分别选为 100 和 200，试画出类似于图 5-31 的工作示意图。从连接建立阶段到连接释放都要画上。

## 参考链接

[计算机网络第七版谢希仁课后答案](https://wenku.baidu.com/view/12d0ec192f3f5727a5e9856a561252d381eb206d.html)
